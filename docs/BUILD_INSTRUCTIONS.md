# Instructions for Creating the Xcode Project

## Prerequisites

- macOS 12.0 or later
- Xcode 14.0 or later
- Swift 5.7 or later

## Creating Xcode Project

### Step 1: Create New Project

1. Open Xcode
2. File → New → Project
3. Select **macOS** → **App**
4. Click **Next**

### Step 2: Configure Project

1. **Product Name**: `RicCleanMyMac`
2. **Team**: Select your team (optional)
3. **Organization Identifier**: `com.yourname` (or your domain)
4. **Bundle Identifier**: Will be generated automatically
5. **Interface**: **SwiftUI**
6. **Language**: **Swift**
7. **Storage**: **None** (we don't use Core Data)
8. **Include Tests**: ✅ (optional but recommended)

9. Click **Next**
10. Choose the folder `/Users/riccardo/development/github/RicClean` as location
11. **IMPORTANT**: Deselect "Create Git repository" if you have already initialized Git
12. Click **Create**

### Step 3: Replace Generated Files

1. **Delete** the files automatically generated by Xcode:
   - `RicCleanMyMacApp.swift` (if present in the root)
   - `ContentView.swift` (if present)
   - `Assets.xcassets` (optional, you can keep it for icons)

2. **Add** existing files to the project:
   - Right-click on the `RicCleanMyMac` folder in the navigator
   - Select "Add Files to RicCleanMyMac..."
   - Navigate to the `RicCleanMyMac` folder of the project
   - Select all subfolders: `App`, `Views`, `Services`, `Models`, `Utilities`
   - Make sure "Copy items if needed" is **deselected**
   - Make sure "Create groups" is **selected**
   - Click **Add**

### Step 4: Configure Deployment Target

1. Select the `RicCleanMyMac` target in the navigator
2. Go to the **General** tab
3. In **Minimum Deployments**, set **macOS** to **12.0**

### Step 5: Configure Info.plist

1. If the project uses a modern `Info.plist` (Xcode 14+), the information might be in the target settings
2. If you have a separate `Info.plist` file, replace it with the one in the project root
3. Verify that the following keys are present:
   - `LSMinimumSystemVersion`: `12.0`
   - `CFBundleShortVersionString`: `1.0`
   - `CFBundleVersion`: `1`

### Step 6: Configure Signing (Optional)

1. Go to the **Signing & Capabilities** tab
2. If you have an Apple Developer Account:
   - Select your **Team**
   - Xcode will automatically generate the provisioning profile
3. If you don't have an account:
   - The app will only work in debug mode
   - For distribution, see [TESTING_AND_DEPLOYMENT.md](TESTING_AND_DEPLOYMENT.md)

### Step 7: Verify Structure

The final structure in Xcode navigator should be:

```
RicCleanMyMac
├── App
│   ├── RicCleanMyMacApp.swift
│   └── AppDelegate.swift
├── Views
│   ├── MainView.swift
│   ├── DashboardView.swift
│   ├── CleanupView.swift
│   └── ConfirmationDialog.swift
├── Services
│   ├── CleanupService.swift
│   ├── FileScanner.swift
│   └── DiskAnalyzer.swift
├── Models
│   ├── CleanupItem.swift
│   └── DiskSpace.swift
├── Utilities
│   ├── FileManager+Extensions.swift
│   └── ByteCountFormatter+Extensions.swift
├── Assets.xcassets (optional)
└── Info.plist
```

### Step 8: Build and Run

1. Select the **RicCleanMyMac** scheme in the toolbar
2. Select **My Mac** as destination
3. Press **⌘R** to build and run
4. The app should start correctly

## Troubleshooting Common Issues

### Error: "Cannot find type 'X' in scope"

- Verify that all files have been added to the `RicCleanMyMac` target
- Check that there are no duplicate files
- Clean the build folder: Product → Clean Build Folder (⇧⌘K)

### Error: "Missing required module"

- Verify that the deployment target is set correctly
- Restart Xcode

### App doesn't start

- Verify that `RicCleanMyMacApp.swift` is the main file (must have `@main`)
- Check that there are no compilation errors in the console

### Filesystem permissions

- The first time the app accesses the filesystem, macOS might request permissions
- Go to System Settings → Privacy & Security → Full Disk Access
- Add the app if necessary (only for advanced testing)

## Next Steps

Once the app compiles and works:

1. Test basic functionality (scanning, cleanup)
2. Verify that deletion confirmation works
3. Test complete app shutdown
4. See [TESTING_AND_DEPLOYMENT.md](TESTING_AND_DEPLOYMENT.md) for complete testing
